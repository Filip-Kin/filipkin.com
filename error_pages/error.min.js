homePage="http://filipkin.com";adminEmail="filip@kinmails.com";function buttonize(){if(document.getElementById("homepage")!==null){document.getElementById("homepage").href=homePage}if(document.getElementById("problem")!==null){document.getElementById("problem").href="mailto:"+adminEmail}}function ErrorPage(b,c,a){this.$container=$(b);this.$contentContainer=this.$container.find(a=="sign"?".sign-container":".content-container");this.pageType=c;this.templateName=a}ErrorPage.prototype.centerContent=function(){var a=this.$container.outerHeight(),d=this.$contentContainer.outerHeight(),b=(a-d)/2,c=this.templateName=="sign"?-100:0;this.$contentContainer.css("top",b+c)};ErrorPage.prototype.initialize=function(){var a=this;this.centerContent();this.$container.on("resize",function(b){b.preventDefault();b.stopPropagation();a.centerContent()});if(this.templateName=="plain"){window.setTimeout(function(){a.$contentContainer.addClass("in")},500)}if(this.templateName=="sign"){$(".sign-container").animate({textIndent:0},{step:function(b){$(this).css({transform:"rotate("+b+"deg)","transform-origin":"top center"})},duration:1000,easing:"easeOutBounce"})}};ErrorPage.prototype.createTimeRangeTag=function(b,a){return("<time utime="+b+' simple_format="MMM DD, YYYY HH:mm">'+b+"</time> - <time utime="+a+' simple_format="MMM DD, YYYY HH:mm">'+a+"</time>.")};ErrorPage.prototype.handleStatusFetchSuccess=function(b,c){if(b=="503"){$("#replace-with-fetched-data").html(c.status.description)}else{if(!!c.scheduled_maintenances.length){var a=c.scheduled_maintenances[0];$("#replace-with-fetched-data").html(this.createTimeRangeTag(a.scheduled_for,a.scheduled_until));$.fn.localizeTime()}else{$("#replace-with-fetched-data").html("<em>(there are no active scheduled maintenances)</em>")}}};ErrorPage.prototype.handleStatusFetchFail=function(a){$("#replace-with-fetched-data").html("<em>(enter a valid Statuspage url)</em>")};ErrorPage.prototype.fetchStatus=function(d,b){if(!d||!b||b=="404"){return}var c="",a=this;if(b=="503"){c=d+"/api/v2/status.json"}else{c=d+"/api/v2/scheduled-maintenances/active.json"}$.ajax({type:"GET",url:c}).success(function(f,e){a.handleStatusFetchSuccess(b,f)}).fail(function(f,e){a.handleStatusFetchFail(b)})};$(window).on("resize",function(){$("body").trigger("resize")});